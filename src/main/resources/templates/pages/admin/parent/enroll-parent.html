<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org" lang="en" class="light-style layout-menu-fixed" dir="ltr"
    data-theme="theme-default" data-assets-path="/assets/" data-template="vertical-menu-template-free">

<head th:replace="~{layouts/base::head}"></head>

<body>
    <!-- Layout wrapper -->
    <div class="layout-wrapper layout-content-navbar">
        <div class="layout-container">
            <!-- Menu -->

            <aside th:replace="~{components/sidebar::sidebar}"></aside>
            <!-- / Menu -->

            <!-- Layout container -->
            <div class="layout-page">
                <!-- Navbar -->

                <div th:replace="~{components/header::header}"></div>

                <!-- / Navbar -->
                <div class="card-header">
                    <h6 class="fw-bold mb-4 text-primary">
                        <span class="">Parent Management
                        </span>
                        <span class="text-muted fw-light"> <i class="fas fa-chevron-right"></i> </span>
                        <a class=""
                            th:href="@{(${currentUser.role.name == 'ADMIN'} ? '/admin' : '/school-owner') + '/parents'}">Parent
                            List</a>
                        <span class="text-muted fw-light me-2"> <i class="fas fa-chevron-right"></i> </span>
                        <span class="me-2">View parent's details</span>
                    </h6>
                </div>
                <!-- Content wrapper -->
                <div class="content-wrapper">
                    <!-- Content -->

                    <div class="container-xxl flex-grow-1">
                        <!-- Layout Demo -->
                        <div class="layout-demo-wrapper">
                            <div class="container-xxl flex-grow-1">
                                <div class="mx-5">
                                    <div class="mb-3 row mx-5">
                                        <div class="card mb-4">
                                            <h3 class="card-header">Parent Detail</h3>
                                            <div th:if="${successMessage}" class="alert alert-success" role="alert">
                                                <p th:text="${successMessage}"></p>
                                            </div>
                                            <div th:if="${errorMessage}" class="alert alert-danger" role="alert">
                                                <p th:text="${errorMessage}"></p>
                                            </div>
                                            <form action="#"
                                                th:action="@{(${currentUser.role.name == 'ADMIN'} ? '/admin' : '/school-owner') + '/parents/enroll/' + ${user.id}}"
                                                method="post">
                                                <div class="card-body">
                                                    <!-- Input fields -->
                                                    <div class="mb-3 row">
                                                        <label for="html5-text-input"
                                                            class="col-md-2 col-form-label">Full
                                                            Name</label>
                                                        <div class="col-md-10">
                                                            <input th:value="${user.fullname}" class="form-control"
                                                                type="text" id="html5-text-input" readonly />
                                                        </div>
                                                    </div>
                                                    <div class="mb-3 row">
                                                        <label for="html5-text-input"
                                                            class="col-md-2 col-form-label">Email</label>
                                                        <div class="col-md-10">
                                                            <input th:value="${user.email}" class="form-control"
                                                                type="text" id="html5-text-input" readonly />
                                                        </div>
                                                    </div>
                                                    <div class="mb-3 row">
                                                        <label for="html5-text-input"
                                                            class="col-md-2 col-form-label">DOB</label>
                                                        <div class="col-md-10">
                                                            <input th:value="${user.birthDate}" class="form-control"
                                                                type="text" id="html5-text-input" readonly />
                                                        </div>
                                                    </div>
                                                    <div class="mb-3 row">
                                                        <label for="html5-text-input"
                                                            class="col-md-2 col-form-label">Phone</label>
                                                        <div class="col-md-10">
                                                            <input th:value="${user.phone}" class="form-control"
                                                                type="text" id="html5-text-input" readonly />
                                                        </div>
                                                    </div>
                                                    <div class="mb-3 row">
                                                        <label for="html5-text-input"
                                                            class="col-md-2 col-form-label">Address</label>
                                                        <div class="col-md-10">
                                                            <input th:value="${user.address}" class="form-control"
                                                                type="text" id="html5-text-input" readonly />
                                                        </div>
                                                    </div>
                                                    <div class="mb-3 row">
                                                        <label for="html5-text-input"
                                                            class="col-md-2 col-form-label">Enrolled school
                                                            Option</label>
                                                        <div class="col-md-10">
                                                            <select class="form-select select2-form" id="schoolSelect"
                                                                name="selectedSchoolId" required>
                                                                <option value="" disabled selected>Not enroll yet
                                                                </option>
                                                                <option th:each="school : ${schools}"
                                                                    th:value="${school.id}" th:text="${school.name}">
                                                                    School
                                                                    Name</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="mb-3 row">
                                                        <label for="html5-text-input"
                                                            class="col-md-2 col-form-label">Provided rating</label>
                                                        <div class="col-md-10">
                                                            <span>No Rating</span>
                                                        </div>
                                                    </div>
                                                    <div class="mb-3 row">
                                                        <label for="html5-text-input"
                                                            class="col-md-2 col-form-label">Feedback</label>
                                                        <div class="col-md-10">
                                                            <textarea class="form-control" readonly
                                                                rows="4">No feedback</textarea>
                                                        </div>
                                                    </div>

                                                    <div class="mt-5 d-flex justify-content-end">
                                                        <a href="javascript:history.back()"
                                                            class="btn btn-outline-primary">Back</a>
                                                        <button type="submit" name="action" value="cancel"
                                                            style="width: 120px;"
                                                            class="btn btn-danger mx-3">Cancel</button>
                                                        <button type="submit" name="action" value="enroll"
                                                            style="width: 120px;"
                                                            class="btn btn-primary">Enroll</button>
                                                    </div>
                                                    <!-- Add the rest of your input fields here -->
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--/ Layout Demo -->
                    </div>
                    <!-- / Content -->

                    <!-- Footer -->
                    <footer th:replace="~{components/footer::footer}"></footer>
                    <!-- / Footer -->

                    <div class="content-backdrop fade"></div>
                </div>
                <!-- Content wrapper -->
            </div>
            <!-- / Layout page -->
        </div>

        <!-- Overlay -->
        <div class="layout-overlay layout-menu-toggle"></div>
    </div>
    <!-- / Layout wrapper -->
</body>

</html>